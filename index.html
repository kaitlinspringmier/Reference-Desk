<!DOCTYPE HTML>

<html>
 <title> Reference Desk Analysis </title> 
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
<link rel="stylesheet" href="http://www.w3schools.com/lib/w3-theme-black.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
html,body,h1,h2,h3,h4,h5,h6 {font-family: "Roboto", sans-serif}
.w3-sidenav a,.w3-sidenav h4 {padding: 12px;}
.w3-navbar li a {
    padding-top: 12px;
    padding-bottom: 12px;
}
</style> 
 <head>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
google.charts.load('current', {'packages':['corechart', 'treemap']});

google.charts.setOnLoadCallback(drawTotalChart);
google.charts.setOnLoadCallback(drawPatronChart);
google.charts.setOnLoadCallback(drawTreeChart);

 function drawTotalChart() {
 var data = new google.visualization.DataTable();
        data.addColumn('string', 'How');
        data.addColumn('number', 'Questions');
        data.addRows([
          ['IM', 56],
          ['In Person', 328],
          ['Phone', 12],
          ]);

 var options = {title:'Total Reference Transactions',
                colors: ['#767676','#800000', '#FFB547'],
                pieHole: 0.4};

 var chart = new google.visualization.PieChart(document.getElementById('Total_Chart_div'));
        chart.draw(data, options);
      }

function drawPatronChart() {
    var data = new google.visualization.arrayToDataTable([
          ['Day', 'Alumni', 'Faculty/Staff', 'Students', 'Visitors', 'Unknown'],
          ['Saturday', 4, 9, 91, 18, 80],
          ['Sunday', 2, 8, 89, 11, 84]
        ]);

 var options = {title:'Questions by Patron Type',
                 colors: ['#800000', '#FFB547', '#8A9045', '#155F83', '#350E20'],
        isStacked: true
                       };

 var chart = new google.visualization.BarChart(document.getElementById('Patron_Chart_div'));
        chart.draw(data, options);
      }


      
 function drawTreeChart() {
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'ID');
      data.addColumn('string', 'Parent');
      data.addColumn('number', 'Number Of Questions');
      data.addRows([
        ['Reference Questions', null, 0],

        ['General Assistance', 'Reference Questions', null],
        ['Research Assistance', 'Reference Questions', null],
        

        ['Office Supplies', 'General Assistance', 28],
        ['TechB@r', 'General Assistance', 17],
        ['Directions', 'General Assistance', 45],
        ['Circulation', 'General Assistance', 27],
        ['IPO', 'General Assistance', 26],
        ['Other General Assistance', 'General Assistance', 27],
       
        ['Known Item', 'Research Assistance', null],
        ['Reserve', 'Known Item', 11],
        ['Book Search', 'Known Item', 44],
        ['Other Known Item', 'Known Item', 47],
        
       ['Specialized Research Assistance', 'Research Assistance', 48],
       
       ['Help with Technology/Printing', 'Reference Questions', null], 
       ['Print, copy, scan', 'Help with Technology/Printing', 13],
       ['eResource Access', 'Help with Technology/Printing', 20], 
       ['Help with technology', 'Help with Technology/Printing', 27],
      ]);

      var tree = new google.visualization.TreeMap(document.getElementById('chart_div'));

      var options = {
        highlightOnMouseOver: true,
        maxDepth: 1,
        maxPostDepth: 2,
        headerHeight: 15,
        showScale: true,
        height: 500,
        useWeightedAverageForAggregation: true,
             };

        tree.draw(data, options);
 
       }
     
</script>
  </head>
  
<body>
 <!-- Navbar -->
<div class="w3-top">
  <ul class="w3-navbar w3-theme w3-top w3-left-align w3-large">
    <li class="w3-opennav w3-right w3-hide-large">
      <a class="w3-hover-white w3-large w3-theme-l1" href="javascript:void(0)" onclick="w3_open()"><i class="fa fa-bars"></i></a>
    </li>
    <li><a href="#" class="w3-theme-l1">Logo</a></li>
    <li class="w3-hide-small"><a href="#" class="w3-hover-white">The Project</a></li>
    <li class="w3-hide-small"><a href="#" class="w3-hover-white">The Creator</a></li>
    <li class="w3-hide-small"><a href="#" class="w3-hover-white">The Library</a></li>
    <li class="w3-hide-small"><a href="#" class="w3-hover-white">Contact</a></li>
   </ul>
</div>
 
 <!-- Sidenav -->
<nav class="w3-sidenav w3-collapse w3-theme-l5 w3-animate-left" style="z-index:3;width:250px;margin-top:51px;" id="mySidenav">
  <a href="javascript:void(0)" onclick="w3_close()" class="w3-right w3-xlarge w3-padding-large w3-hover-black w3-hide-large" title="close menu">
    <i class="fa fa-remove"></i>
  </a>
  <h4><b>Menu</b></h4>
  <a href="#" class="w3-hover-black">Link</a>
  <a href="#" class="w3-hover-black">Link</a>
  <a href="#" class="w3-hover-black">Link</a>
  <a href="#" class="w3-hover-black">Link</a>
</nav>
 
 <!-- Overlay effect when opening sidenav on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
<!-- Overlay effect when opening sidenav on small screens -->
<div class="w3-overlay w3-hide-large" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
 
 <div class="w3-third w3-container">
  
 <div id="Total_Chart_div" style="width: 900px; height: 500px; border: 1px solid #ccc; margin:0 auto;"></div>
<br>
 <p> Over the autumn quarter, reference librarians charted 396 questions. People are invited to call, instant message, or visit the reference desk. Overwhelmingly, the most popular way people interacted with librarians was by visiting the <i> Ask a Librarian </i> desk. </p> 
 <br> 
<div id="Patron_Chart_div" style="width: 900px; height: 500px; border: 1px solid #ccc; margin:0 auto;"></div>

<div id="chart_div" style="width: 900px; height: 500px; border: 1px solid #ccc; margin:0 auto;"></div>
    </div>

 <footer id="myFooter">
    <div class="w3-container w3-theme-l2 w3-padding-32">
      <h4>Footer</h4>
    </div>

    <div class="w3-container w3-theme-l1">
      <p>Powered by <a href="http://www.w3schools.com/w3css/default.asp" target="_blank">w3.css</a></p>
    </div>
  </footer>

<!-- END MAIN -->
</div>

<script>
// Get the Sidenav
var mySidenav = document.getElementById("mySidenav");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidenav, and add overlay effect
function w3_open() {
    if (mySidenav.style.display === 'block') {
        mySidenav.style.display = 'none';
        overlayBg.style.display = "none";
    } else {
        mySidenav.style.display = 'block';
        overlayBg.style.display = "block";
    }
}

// Close the sidenav with the close button
function w3_close() {
    mySidenav.style.display = "none";
    overlayBg.style.display = "none";
}
</script>

  
  </body>
</html>

